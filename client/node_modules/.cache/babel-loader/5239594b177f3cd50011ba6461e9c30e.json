{"ast":null,"code":"var _jsxFileName = \"/Users/thomasjd/Desktop/caltask/client/src/components/Creation/NewEvent.js\";\nimport React, { Component } from 'react';\nimport DatePicker from 'react-datepicker';\nimport { format, compareAsc } from 'date-fns';\nimport StoreDataContext from '../../context/StoreDataContext';\nimport 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\nimport EventsData from '../../containers/Store/EventsData';\nimport numToDay from '../Calendar/numToDay'; //import DatePickerPicker from '../../containers/RightCockpit/DatePicker.js';\n//import ReactDatePicker from '../Calendar/ReactDatePicker';\n//import Icon from '../Calendar/Icon';\n//import { Form, Input, FormGroup, Container, Label } from 'reactstrap';\n// import {\n//   DateRangePicker,\n//   SingleDatePicker,\n//   DayPickerRangeController\n// } from 'react-dates';\n// import { fi } from 'date-fns/locale';\n\nclass NewEvent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      eventId: 'rodeo' + this.today,\n      //this.today + eventTitle\n      eventTitle: 'rodeo',\n      eventNote: '',\n      eventCategory: '',\n      eventStartTimeDate: '',\n      eventFinishTimeDate: '',\n      //later: If one-day event\n      eventDuration: '',\n      //later:\n      //T -> schedule it on calendarData\n      //F--> put into unScheduledEventsList for that day\n      blockOffTimeSlot: false,\n      showStartTimeDate: false,\n      showFinishTimeDate: false,\n      eventDeadline: '',\n      //later: show multiday non-continous event\n      showMultidayNonContinousDate: false\n    };\n\n    this.onSubmit = event => {\n      event.preventDefault();\n      console.log(this.today); //if forgot to fill out the title it will focus input box\n\n      if (!this.state.eventTitle) {\n        this.emptyTitle.current.focus();\n        return alert('Give the event a name!');\n      } // let start = this.state.startTimeDate;\n\n\n      if (this.state.dayObjName) {\n        let dataRequestMessage = {\n          //if task/event scheduled on calendar\n          typeOfData: 'EventsData',\n          handlerChoice: '1',\n          dataLocation: this.state.dayObjName,\n          infoType: 'newEvent',\n          info: this.state\n        };\n        console.log(dataRequestMessage);\n        let event = null;\n        this.context.dataRequestHandler(event, dataRequestMessage);\n        this.resetState();\n      }\n    };\n\n    this.resetState = () => {\n      let contentChoiceObj = {\n        target: {\n          value: '0' //was 9\n\n        }\n      };\n      this.setState({\n        eventId: '',\n        eventTitle: '',\n        eventNote: '',\n        eventCategory: '',\n        //task + date + start time\n        eventStartTimeDate: '',\n        eventFinishTimeDate: '',\n        eventDuration: '',\n        //\n        blockOffTimeSlot: false,\n        //required\n        showStartTimeDate: false,\n        //later: show another datePicker to pick a multiday event\n        showFinishTimeDate: false,\n        //later: show multiday non-continous event\n        showMultidayNonContinousDate: false,\n        eventDeadline: '',\n        //later: If one-day event\n        eventDuration: '',\n        //later: T -> schedule it on calendarData\n        //F--> put into unScheduledEventsList for that day\n        blockOffTimeSlot: ''\n      }, () => this.context.contentViewHandler(contentChoiceObj));\n    };\n\n    this.finishTimeDateHandler = date => {\n      let eventFinishTimeDate = {\n        dateObjectString: date.dateObjectString,\n        dateString: date.dateString,\n        day: date.day,\n        date: date.date,\n        month: date.month,\n        year: date.year,\n        timeString: date.time,\n        hour: date.hour,\n        minute: date.minute\n      }; // let currentShowFinishTimeDate = this.state.showFinishTimeDate\n      // showFinishTimeDate: !currentShowFinishTimeDate\n\n      this.setState({\n        finishTimeDate: eventFinishTimeDate\n      });\n    };\n\n    this.eventTitleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value,\n        eventId: e.target.value.concat(this.today)\n      });\n    };\n\n    this.eventNoteChange = e => {\n      this.setState({\n        eventNote: e.target.value\n      });\n    };\n\n    this.eventTypeChange = e => {\n      this.setState({\n        eventType: e.target.value\n      });\n    };\n\n    this.emptyTitle = React.createRef();\n    this.today = ' ' + new Date().toDateString(); // this.todayDate = () => {\n    //   let today = new Date()\n    // }\n  }\n\n  //if now day obj !available, will make one for that day, add events to it, else add events to that day\n  handleStartTimeDateChange(date) {\n    //let currentShowStartTimeDate = this.state.showStartTimeDate;\n    let today = new Date();\n    let day = format(date, 'E');\n    let dateDigit = format(date, 'dd');\n    let year = format(date, 'yy');\n    let month = format(date, 'MM');\n    let dayObjName = year + month + dateDigit + day;\n    console.log(`day: ${day} type: ${typeof day}`);\n    console.log(`date: ${dateDigit} type: ${typeof dateDigit}`);\n    console.log(`year: ${year} type: ${typeof year}`);\n    console.log(`month: ${month} type: ${typeof month}`);\n    console.log(`dayObjName: ${dayObjName} type: ${typeof dayObjName}`);\n    let differenceTime = date.getTime() - today.getTime();\n    let milliSeconds = 1000 * 60 * 60 * 24; //ms in a day\n\n    let numDaysFromCurrentDay = differenceTime / milliSeconds;\n    this.setState({\n      dayObjName: dayObjName,\n      eventStartTimeDate: {\n        dateObjectString: date.toString(),\n        dateString: date.toDateString(),\n        day: numToDay(date.getDay()),\n        date: date.toDateString(),\n        month: date.getMonth(),\n        year: date.getYear(),\n        timeString: date.getMonth(),\n        hour: date.getHours(),\n        minute: date.getMinutes(),\n        numDaysFromCurrentDay: numDaysFromCurrentDay\n      }\n    });\n  }\n\n  render() {\n    //EventsData.toyCapability();\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"Event Title\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"eventTitle\",\n      className: \"form-control\",\n      ref: this.emptyTitle //defaultValue=\"NBA AllStar Game\"\n      ,\n      value: this.state.eventTitle,\n      onChange: e => this.eventTitleChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Event Type\"), React.createElement(\"select\", {\n      name: \"assignedTimeStart\",\n      className: \"form-control\",\n      placeholder: \"Enter Start Time.\",\n      onChange: e => this.eventTypeChange(e),\n      id: \"assignedTimeStart\",\n      defaultValue: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"Appointment\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"Meeting\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"One Time - Scheduled\"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, \"One Time - Unschedule\"), React.createElement(\"option\", {\n      value: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Multi Day Event\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"Note\"), React.createElement(\"input\", {\n      type: \"text\",\n      name: \"eventNote\",\n      className: \"form-control\",\n      defaultValue: \"Watch on Chanel 13\" //value={this.state.eventNote}\n      ,\n      onChange: e => this.eventNoteChange(e) //ref={eventNoteRef => eventNoteRef.focus()}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }), React.createElement(DatePicker, {\n      placeholderText: \"Choose Start Time\",\n      selected: this.state.startDate,\n      onChange: date => this.handleStartTimeDateChange(date),\n      showTimeSelect: true,\n      timeFormat: \"HH:mm\",\n      timeIntervals: 30,\n      timeCaption: \"Start\",\n      dateFormat: \"MMMM dd, yyyy\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: e => this.onSubmit(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"Submit\"))));\n  }\n\n}\n\nNewEvent.contextType = StoreDataContext;\nexport default NewEvent; // let date2 = {\n//   date: 31,\n//   dateObjectString:\n//     'Fri Jan 31 2020 08:00:00 GMT-0500 (Colombia Standard Time)',\n//   toISOString: '2020-01-31T13:00:00.000Z',\n//   toUTCString: 'Fri, 31 Jan 2020 13:00:00 GMT',\n//   toGMTString: 'Fri, 31 Jan 2020 13:00:00 GMT',\n//   dateString: 'Fri Jan 31 2020',\n//   timeString: '08:00:00 GMT-0500 (Colombia Standard Time)',\n//   year: 2020,\n//   yearShort: 120,\n//   month: 0,\n//   day: 5,\n//   time: '8:00:00 AM',\n//   hour: 8,\n//   minute: 0,\n//   UTCDate: 31,\n//   toLocalString: '1/31/2020, 8:00:00 AM',\n//   toLocalDateString: '1/31/2020',\n//   toLocaleTimeString: '8:00:00 AM'\n// };","map":{"version":3,"sources":["/Users/thomasjd/Desktop/caltask/client/src/components/Creation/NewEvent.js"],"names":["React","Component","DatePicker","format","compareAsc","StoreDataContext","EventsData","numToDay","NewEvent","constructor","props","state","eventId","today","eventTitle","eventNote","eventCategory","eventStartTimeDate","eventFinishTimeDate","eventDuration","blockOffTimeSlot","showStartTimeDate","showFinishTimeDate","eventDeadline","showMultidayNonContinousDate","onSubmit","event","preventDefault","console","log","emptyTitle","current","focus","alert","dayObjName","dataRequestMessage","typeOfData","handlerChoice","dataLocation","infoType","info","context","dataRequestHandler","resetState","contentChoiceObj","target","value","setState","contentViewHandler","finishTimeDateHandler","date","dateObjectString","dateString","day","month","year","timeString","time","hour","minute","finishTimeDate","eventTitleChange","e","name","concat","eventNoteChange","eventTypeChange","eventType","createRef","Date","toDateString","handleStartTimeDateChange","dateDigit","differenceTime","getTime","milliSeconds","numDaysFromCurrentDay","toString","getDay","getMonth","getYear","getHours","getMinutes","render","startDate","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport DatePicker from 'react-datepicker';\nimport { format, compareAsc } from 'date-fns';\nimport StoreDataContext from '../../context/StoreDataContext';\nimport 'react-dates/initialize';\nimport 'react-dates/lib/css/_datepicker.css';\nimport EventsData from '../../containers/Store/EventsData';\nimport numToDay from '../Calendar/numToDay';\n//import DatePickerPicker from '../../containers/RightCockpit/DatePicker.js';\n//import ReactDatePicker from '../Calendar/ReactDatePicker';\n//import Icon from '../Calendar/Icon';\n//import { Form, Input, FormGroup, Container, Label } from 'reactstrap';\n// import {\n//   DateRangePicker,\n//   SingleDatePicker,\n//   DayPickerRangeController\n// } from 'react-dates';\n// import { fi } from 'date-fns/locale';\n\nclass NewEvent extends Component {\n  constructor(props) {\n    super(props);\n    this.emptyTitle = React.createRef();\n    this.today = ' ' + new Date().toDateString();\n    // this.todayDate = () => {\n    //   let today = new Date()\n\n    // }\n  }\n\n  state = {\n    eventId: 'rodeo' + this.today, //this.today + eventTitle\n    eventTitle: 'rodeo',\n    eventNote: '',\n    eventCategory: '',\n    eventStartTimeDate: '',\n    eventFinishTimeDate: '',\n    //later: If one-day event\n    eventDuration: '',\n    //later:\n    //T -> schedule it on calendarData\n    //F--> put into unScheduledEventsList for that day\n    blockOffTimeSlot: false,\n    showStartTimeDate: false,\n    showFinishTimeDate: false,\n    eventDeadline: '',\n    //later: show multiday non-continous event\n    showMultidayNonContinousDate: false\n  };\n\n  onSubmit = event => {\n    event.preventDefault();\n    console.log(this.today);\n    //if forgot to fill out the title it will focus input box\n    if (!this.state.eventTitle) {\n      this.emptyTitle.current.focus();\n      return alert('Give the event a name!');\n    }\n    // let start = this.state.startTimeDate;\n\n    if (this.state.dayObjName) {\n      let dataRequestMessage = {\n        //if task/event scheduled on calendar\n        typeOfData: 'EventsData',\n        handlerChoice: '1',\n        dataLocation: this.state.dayObjName,\n        infoType: 'newEvent',\n        info: this.state\n      };\n      console.log(dataRequestMessage);\n      let event = null;\n      this.context.dataRequestHandler(event, dataRequestMessage);\n\n      this.resetState();\n    }\n  };\n\n  resetState = () => {\n    let contentChoiceObj = {\n      target: {\n        value: '0' //was 9\n      }\n    };\n\n    this.setState(\n      {\n        eventId: '',\n        eventTitle: '',\n        eventNote: '',\n        eventCategory: '', //task + date + start time\n        eventStartTimeDate: '',\n        eventFinishTimeDate: '',\n        eventDuration: '', //\n        blockOffTimeSlot: false,\n        //required\n        showStartTimeDate: false,\n        //later: show another datePicker to pick a multiday event\n        showFinishTimeDate: false,\n\n        //later: show multiday non-continous event\n        showMultidayNonContinousDate: false,\n        eventDeadline: '',\n        //later: If one-day event\n        eventDuration: '',\n        //later: T -> schedule it on calendarData\n        //F--> put into unScheduledEventsList for that day\n        blockOffTimeSlot: ''\n      },\n      () => this.context.contentViewHandler(contentChoiceObj)\n    );\n  };\n\n  finishTimeDateHandler = date => {\n    let eventFinishTimeDate = {\n      dateObjectString: date.dateObjectString,\n      dateString: date.dateString,\n      day: date.day,\n      date: date.date,\n      month: date.month,\n      year: date.year,\n      timeString: date.time,\n      hour: date.hour,\n      minute: date.minute\n    };\n\n    // let currentShowFinishTimeDate = this.state.showFinishTimeDate\n    // showFinishTimeDate: !currentShowFinishTimeDate\n    this.setState({ finishTimeDate: eventFinishTimeDate });\n  };\n\n  eventTitleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value,\n      eventId: e.target.value.concat(this.today)\n    });\n  };\n  eventNoteChange = e => {\n    this.setState({\n      eventNote: e.target.value\n    });\n  };\n\n  eventTypeChange = e => {\n    this.setState({\n      eventType: e.target.value\n    });\n  };\n\n  //if now day obj !available, will make one for that day, add events to it, else add events to that day\n  handleStartTimeDateChange(date) {\n    //let currentShowStartTimeDate = this.state.showStartTimeDate;\n    let today = new Date();\n\n    let day = format(date, 'E');\n    let dateDigit = format(date, 'dd');\n    let year = format(date, 'yy');\n    let month = format(date, 'MM');\n    let dayObjName = year + month + dateDigit + day;\n\n    console.log(`day: ${day} type: ${typeof day}`);\n    console.log(`date: ${dateDigit} type: ${typeof dateDigit}`);\n    console.log(`year: ${year} type: ${typeof year}`);\n    console.log(`month: ${month} type: ${typeof month}`);\n    console.log(`dayObjName: ${dayObjName} type: ${typeof dayObjName}`);\n    let differenceTime = date.getTime() - today.getTime();\n    let milliSeconds = 1000 * 60 * 60 * 24; //ms in a day\n    let numDaysFromCurrentDay = differenceTime / milliSeconds;\n    this.setState({\n      dayObjName: dayObjName,\n      eventStartTimeDate: {\n        dateObjectString: date.toString(),\n        dateString: date.toDateString(),\n        day: numToDay(date.getDay()),\n        date: date.toDateString(),\n        month: date.getMonth(),\n        year: date.getYear(),\n        timeString: date.getMonth(),\n        hour: date.getHours(),\n        minute: date.getMinutes(),\n        numDaysFromCurrentDay: numDaysFromCurrentDay\n      }\n    });\n  }\n\n  static contextType = StoreDataContext;\n\n  render() {\n    //EventsData.toyCapability();\n    return (\n      <React.Fragment>\n        <div className=\"container\">\n          <form>\n            <div className=\"form-group\">\n              <label>Event Title</label>\n              <input\n                type=\"text\"\n                name=\"eventTitle\"\n                className=\"form-control\"\n                ref={this.emptyTitle}\n                //defaultValue=\"NBA AllStar Game\"\n                value={this.state.eventTitle}\n                onChange={e => this.eventTitleChange(e)}\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label>Event Type</label>\n              <select\n                name=\"assignedTimeStart\"\n                className=\"form-control\"\n                placeholder=\"Enter Start Time.\"\n                onChange={e => this.eventTypeChange(e)}\n                id=\"assignedTimeStart\"\n                defaultValue=\"1\"\n              >\n                <option value=\"1\">Appointment</option>\n                <option value=\"2\">Meeting</option>\n                <option value=\"3\">One Time - Scheduled</option>\n                <option value=\"4\">One Time - Unschedule</option>\n                <option value=\"5\">Multi Day Event</option>\n              </select>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Note</label>\n              <input\n                type=\"text\"\n                name=\"eventNote\"\n                className=\"form-control\"\n                defaultValue=\"Watch on Chanel 13\"\n                //value={this.state.eventNote}\n                onChange={e => this.eventNoteChange(e)}\n                //ref={eventNoteRef => eventNoteRef.focus()}\n              />\n\n              {/* <DatePickerPicker\n                startDateTimeHandler={date => this.startDateTimeHandler(date)}\n                finishTimeDateHandler={date => this.finishTimeHandler(date)}\n              /> */}\n\n              <DatePicker\n                placeholderText=\"Choose Start Time\"\n                selected={this.state.startDate}\n                onChange={date => this.handleStartTimeDateChange(date)}\n                showTimeSelect\n                timeFormat=\"HH:mm\"\n                timeIntervals={30}\n                timeCaption=\"Start\"\n                dateFormat=\"MMMM dd, yyyy\"\n              />\n            </div>\n\n            <button onClick={e => this.onSubmit(e)}>Submit</button>\n          </form>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default NewEvent;\n\n// let date2 = {\n//   date: 31,\n//   dateObjectString:\n//     'Fri Jan 31 2020 08:00:00 GMT-0500 (Colombia Standard Time)',\n//   toISOString: '2020-01-31T13:00:00.000Z',\n//   toUTCString: 'Fri, 31 Jan 2020 13:00:00 GMT',\n//   toGMTString: 'Fri, 31 Jan 2020 13:00:00 GMT',\n//   dateString: 'Fri Jan 31 2020',\n//   timeString: '08:00:00 GMT-0500 (Colombia Standard Time)',\n//   year: 2020,\n//   yearShort: 120,\n//   month: 0,\n//   day: 5,\n//   time: '8:00:00 AM',\n//   hour: 8,\n//   minute: 0,\n//   UTCDate: 31,\n//   toLocalString: '1/31/2020, 8:00:00 AM',\n//   toLocalDateString: '1/31/2020',\n//   toLocaleTimeString: '8:00:00 AM'\n// };\n"]},"metadata":{},"sourceType":"module"}