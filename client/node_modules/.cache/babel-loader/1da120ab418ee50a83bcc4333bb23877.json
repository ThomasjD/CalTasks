{"ast":null,"code":"var _jsxFileName = \"/Users/thomasjd/Desktop/caltask/src/containers/RightCockpit/src/AgendaResourceEvents.js\";\nimport React, { Component } from 'react';\nimport { PropTypes } from 'prop-types';\nimport AgendaEventItem from './AgendaEventItem';\nimport { DATE_FORMAT } from './index';\n\nclass AgendaResourceEvents extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const _this$props = this.props,\n          schedulerData = _this$props.schedulerData,\n          resourceEvents = _this$props.resourceEvents,\n          slotClickedFunc = _this$props.slotClickedFunc,\n          slotItemTemplateResolver = _this$props.slotItemTemplateResolver;\n    const startDate = schedulerData.startDate,\n          endDate = schedulerData.endDate,\n          config = schedulerData.config,\n          localeMoment = schedulerData.localeMoment;\n    let agendaResourceTableWidth = schedulerData.getResourceTableWidth();\n    let width = agendaResourceTableWidth - 2;\n    let events = [];\n    resourceEvents.headerItems.forEach(item => {\n      let start = localeMoment(startDate).format(DATE_FORMAT),\n          end = localeMoment(endDate).add(1, 'days').format(DATE_FORMAT),\n          headerStart = localeMoment(item.start).format(DATE_FORMAT),\n          headerEnd = localeMoment(item.end).format(DATE_FORMAT);\n\n      if (start === headerStart && end === headerEnd) {\n        item.events.forEach(evt => {\n          let durationStart = localeMoment(startDate);\n          let durationEnd = localeMoment(endDate).add(1, 'days');\n          let eventStart = localeMoment(evt.eventItem.start);\n          let eventEnd = localeMoment(evt.eventItem.end);\n          let isStart = eventStart >= durationStart;\n          let isEnd = eventEnd < durationEnd;\n          let eventItem = React.createElement(AgendaEventItem, Object.assign({}, this.props, {\n            key: evt.eventItem.id,\n            eventItem: evt.eventItem,\n            isStart: isStart,\n            isEnd: isEnd,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }));\n          events.push(eventItem);\n        });\n      }\n    });\n    let a = slotClickedFunc != undefined ? React.createElement(\"a\", {\n      onClick: () => {\n        slotClickedFunc(schedulerData, resourceEvents);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, resourceEvents.slotName) : React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, resourceEvents.slotName);\n    let slotItem = React.createElement(\"div\", {\n      style: {\n        width: width\n      },\n      title: resourceEvents.slotName,\n      className: \"overflow-text header2-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, a);\n\n    if (!!slotItemTemplateResolver) {\n      let temp = slotItemTemplateResolver(schedulerData, resourceEvents, slotClickedFunc, width, \"overflow-text header2-text\");\n      if (!!temp) slotItem = temp;\n    }\n\n    return React.createElement(\"tr\", {\n      style: {\n        minHeight: config.eventItemLineHeight + 2\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      \"data-resource-id\": resourceEvents.slotId,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, slotItem), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"day-event-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, events)));\n  }\n\n}\n\nAgendaResourceEvents.propTypes = {\n  schedulerData: PropTypes.object.isRequired,\n  resourceEvents: PropTypes.object.isRequired,\n  subtitleGetter: PropTypes.func,\n  eventItemClick: PropTypes.func,\n  viewEventClick: PropTypes.func,\n  viewEventText: PropTypes.string,\n  viewEvent2Click: PropTypes.func,\n  viewEvent2Text: PropTypes.string,\n  slotClickedFunc: PropTypes.func,\n  slotItemTemplateResolver: PropTypes.func\n};\nexport default AgendaResourceEvents;","map":{"version":3,"sources":["/Users/thomasjd/Desktop/caltask/src/containers/RightCockpit/src/AgendaResourceEvents.js"],"names":["React","Component","PropTypes","AgendaEventItem","DATE_FORMAT","AgendaResourceEvents","constructor","props","render","schedulerData","resourceEvents","slotClickedFunc","slotItemTemplateResolver","startDate","endDate","config","localeMoment","agendaResourceTableWidth","getResourceTableWidth","width","events","headerItems","forEach","item","start","format","end","add","headerStart","headerEnd","evt","durationStart","durationEnd","eventStart","eventItem","eventEnd","isStart","isEnd","id","push","a","undefined","slotName","slotItem","temp","minHeight","eventItemLineHeight","slotId","propTypes","object","isRequired","subtitleGetter","func","eventItemClick","viewEventClick","viewEventText","string","viewEvent2Click","viewEvent2Text"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport {PropTypes} from 'prop-types'\r\nimport AgendaEventItem from './AgendaEventItem'\r\nimport {DATE_FORMAT} from './index'\r\n\r\nclass AgendaResourceEvents extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    static propTypes = {\r\n        schedulerData: PropTypes.object.isRequired,\r\n        resourceEvents: PropTypes.object.isRequired,\r\n        subtitleGetter: PropTypes.func,\r\n        eventItemClick: PropTypes.func,\r\n        viewEventClick: PropTypes.func,\r\n        viewEventText:PropTypes.string,\r\n        viewEvent2Click: PropTypes.func,\r\n        viewEvent2Text: PropTypes.string,\r\n        slotClickedFunc: PropTypes.func,\r\n        slotItemTemplateResolver: PropTypes.func\r\n    }\r\n\r\n    render(){\r\n        const {schedulerData, resourceEvents, slotClickedFunc, slotItemTemplateResolver} = this.props;\r\n        const {startDate, endDate, config, localeMoment} = schedulerData;\r\n        let agendaResourceTableWidth = schedulerData.getResourceTableWidth();\r\n        let width = agendaResourceTableWidth - 2;\r\n\r\n        let events = [];\r\n        resourceEvents.headerItems.forEach((item) => {\r\n            let start = localeMoment(startDate).format(DATE_FORMAT),\r\n                end = localeMoment(endDate).add(1, 'days').format(DATE_FORMAT),\r\n                headerStart = localeMoment(item.start).format(DATE_FORMAT),\r\n                headerEnd = localeMoment(item.end).format(DATE_FORMAT);\r\n\r\n            if(start === headerStart && end === headerEnd) {\r\n                item.events.forEach((evt) => {\r\n                    let durationStart = localeMoment(startDate);\r\n                    let durationEnd = localeMoment(endDate).add(1, 'days');\r\n                    let eventStart = localeMoment(evt.eventItem.start);\r\n                    let eventEnd = localeMoment(evt.eventItem.end);\r\n                    let isStart = eventStart >= durationStart;\r\n                    let isEnd = eventEnd < durationEnd;\r\n                    let eventItem = <AgendaEventItem\r\n                                        {...this.props}\r\n                                        key={evt.eventItem.id}\r\n                                        eventItem={evt.eventItem}\r\n                                        isStart={isStart}\r\n                                        isEnd={isEnd}\r\n                                    />;\r\n                    events.push(eventItem);\r\n                });\r\n            }\r\n        });\r\n\r\n        let a = slotClickedFunc != undefined ? <a onClick={() => {\r\n            slotClickedFunc(schedulerData, resourceEvents);\r\n        }}>{resourceEvents.slotName}</a>\r\n            : <span>{resourceEvents.slotName}</span>;\r\n        let slotItem = (\r\n            <div style={{width: width}} title={resourceEvents.slotName} className=\"overflow-text header2-text\">\r\n                {a}\r\n            </div>\r\n        );\r\n        if(!!slotItemTemplateResolver) {\r\n            let temp = slotItemTemplateResolver(schedulerData, resourceEvents, slotClickedFunc, width, \"overflow-text header2-text\");\r\n            if(!!temp)\r\n                slotItem = temp;\r\n        }\r\n\r\n        return (\r\n            <tr style={{minHeight: config.eventItemLineHeight + 2}}>\r\n                <td data-resource-id={resourceEvents.slotId}>\r\n                    {slotItem}\r\n                </td>\r\n                <td>\r\n                    <div className=\"day-event-container\">\r\n                        {events}\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AgendaResourceEvents\r\n"]},"metadata":{},"sourceType":"module"}